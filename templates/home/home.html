{% extends "base.html" %}

{% block title %} HOME - VELBLOG {% endblock title %}

{% load humanize %}

{% block body %}
<div class="text-center" style="margin-bottom: 80px; padding: 60px 0; border-bottom: 2px solid var(--border-strong);">
  <h1 style="font-size: 4rem; text-transform: uppercase; letter-spacing: -2px; margin-bottom: 20px;">
    Pure.<br>Minimal.<br>Content.
  </h1>
  <p style="font-size: 1.2rem; max-width: 600px; margin: 0 auto 40px; font-family: serif; color: var(--text-muted);">
    A publishing platform for serious readers and writers.
  </p>
  <div class="flex justify-center" style="gap: 20px;">
    <a class="btn btn-primary" href="/billing/pricing">GET ACCESS</a>
    <a class="btn btn-outline" href="/blog">READ NOW</a>
  </div>
</div>

<div class="mb-4">
  <div class="flex justify-between items-center mb-4"
    style="border-bottom: 2px solid var(--border-strong); padding-bottom: 20px;">
    <h2 style="text-transform: uppercase;">Featured Writing</h2>
    <a href="/blog" style="text-decoration: underline; color: var(--text-main);">VIEW ALL</a>
  </div>

  <div class="grid" style="grid-template-columns: repeat(2, 1fr);"> <!-- Explicit 2-column symmetry -->
    {% for post in popular_posts %}
    <div class="post-card">
      <div class="post-img-placeholder">
        <i class="fas fa-paragraph fa-3x"></i>
      </div>
      <div class="post-content">
        <div class="post-meta flex justify-between">
          <span>{{ post.author }}</span>
          <span>{{ post.timeStamp|date:"M d, Y" }}</span>
        </div>
        <h3 class="post-title">{{ post.title }}</h3>
        <p style="margin-bottom: 20px; flex-grow: 1; color: var(--text-muted);">
          {{post.content | safe | truncatechars:100}}
        </p>
        <a href="/blog/{{ post.slug }}" class="btn btn-outline" style="width: 100%; text-align: center;">READ
          ARTICLE</a>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock body %}